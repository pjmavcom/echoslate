<Window x:Class="TODOList.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
		xmlns:Converters="clr-namespace:TODOList"
        xmlns:local="clr-namespace:TODOList"
		mc:Ignorable="d"
        Title="{Binding WindowTitle}" Height="1080" Width="1920" >
	<Window.Resources>
		<local:ProgressBarForegroundConverter x:Key="pbfg" />
		<!-- <ProgressBarForegoundConverter x:Key="ProgressBarForegoundConverter" /> -->
	</Window.Resources >
	<DockPanel TextElement.FontSize="16" >
		<Menu DockPanel.Dock="Top" KeyboardNavigation.IsTabStop="False" >
			<MenuItem Name="mnuFile" Header="_File" KeyboardNavigation.IsTabStop="False" >
				<MenuItem Name="mnuNew" Header="New" Click="mnuNew_Click" /> 				
				<Separator />
				<MenuItem Name="mnuSave" Header="Save" Click="mnuSave_Click" KeyboardNavigation.IsTabStop="False" />
				<MenuItem Name="mnuSaveAs" Header="SaveAs" Click="mnuSaveAs_Click" KeyboardNavigation.IsTabStop="False" />
				<Separator />
				<MenuItem Name="mnuLoad" Header="Load" Click="mnuLoad_Click" KeyboardNavigation.IsTabStop="False" />
			</MenuItem >
			<MenuItem Name="mnuQuickSave" Header="Save" Click="mnuSave_Click" KeyboardNavigation.IsTabStop="False" />
			<MenuItem Header="Recent Saves: " KeyboardNavigation.IsTabStop="False" />
			<ComboBox Name="cbSaveFiles" SelectionChanged="cbSaveFiles_SelectionChanged" Focusable="False" IsTabStop="False" KeyboardNavigation.IsTabStop="False" KeyboardNavigation.TabNavigation="None" />
			<MenuItem Header="Recent Loads: " KeyboardNavigation.IsTabStop="False"  />
			<ComboBox Name="cbLoadFiles" SelectionChanged="cbLoadFiles_SelectionChanged" Focusable="False" IsTabStop="False" KeyboardNavigation.IsTabStop="False" KeyboardNavigation.TabNavigation="None" />
		</Menu >
			
		<TabControl >
			<!-- To do Tab -->
			<TabItem x:Name="TODO" Header="TODO" KeyboardNavigation.IsTabStop="False" >
				<Grid >
					<Grid.RowDefinitions >
						<RowDefinition Height="30" />
						<RowDefinition Height="*" />
						<RowDefinition Height="*" />
						<RowDefinition Height="100" />
					</Grid.RowDefinitions >
					
					<StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Right" >
						<ComboBox Name="cbHashtags" SelectionChanged="cbTHashtags_SelectionChanged" KeyboardNavigation.IsTabStop="False" />
						<Button Content="Severity" Click="btnTSort_Click" CommandParameter="sev" KeyboardNavigation.IsTabStop="False" />
						<Button Content="Date" Click="btnTSort_Click" CommandParameter="date" KeyboardNavigation.IsTabStop="False" />
						<Button Content="Hash" Click="btnTSort_Click" CommandParameter="hash" KeyboardNavigation.IsTabStop="False" />
					</StackPanel >
					
					<!-- The list of incomplete todos -->
					<ListBox Name="lbTIncompleteTodos" HorizontalContentAlignment="Stretch" Grid.Row="1" KeyboardNavigation.IsTabStop="False" KeyboardNavigation.TabNavigation="None" >
						<ListBox.ContextMenu >
							<ContextMenu >
								<MenuItem Header="Edit" Click="mnuTEdit_Click" CommandParameter="incomplete" />
								<MenuItem Header="Delete" Click="mnuTDelete_Click" CommandParameter="incomplete" />
							</ContextMenu >
						</ListBox.ContextMenu >
						<ListBox.ItemTemplate >
							<DataTemplate >
								<Grid Margin="0,2" >
									<Grid.ColumnDefinitions >
										<ColumnDefinition Width="25" />
										<ColumnDefinition Width="180" />
										<ColumnDefinition Width="100" />
										<ColumnDefinition Width="*" />
									</Grid.ColumnDefinitions >
									<Button Grid.Column="0" FontFamily="Marlett" FontSize="20" Content="a" Click="btnTComplete_Click" CommandParameter="incomplete" />
									<TextBlock Grid.Column="1" Text="{Binding StartDateTime}" Foreground="Red" Margin="4" />
									<ProgressBar Grid.Column="2" Minimum="0" Maximum="3" Value="{Binding Severity}" Foreground="{Binding RelativeSource={RelativeSource Mode=Self}, Path=Value, Converter={StaticResource pbfg}}" />
									<TextBlock Grid.Column="3" Text="{Binding Todo}" TextAlignment="Left" TextWrapping="WrapWithOverflow" Width="1500" Margin="4" />
								</Grid >
							</DataTemplate >
						</ListBox.ItemTemplate >
					</ListBox >

					<!-- The list of complete todos -->
					<ListBox Name="lbTCompleteTodos" HorizontalContentAlignment="Stretch" Grid.Row="2" KeyboardNavigation.IsTabStop="False" KeyboardNavigation.TabNavigation="None" >
						<ListBox.ContextMenu >
							<ContextMenu >
								<MenuItem Header="Edit" Click="mnuTEdit_Click" CommandParameter="complete" />
								<MenuItem Header="Delete" Click="mnuTDelete_Click" CommandParameter="complete" />
							</ContextMenu >
						</ListBox.ContextMenu >
						<ListBox.ItemTemplate >
							<DataTemplate >
								<Grid Margin="0,2" >
									<Grid.ColumnDefinitions >
										<ColumnDefinition Width="25" />
										<ColumnDefinition Width="180" />
										<ColumnDefinition Width="100" />
										<ColumnDefinition Width="*" />
									</Grid.ColumnDefinitions >
									<Button Grid.Column="0" FontFamily="Marlett" FontSize="20" Content="a" Click="btnTComplete_Click" CommandParameter="complete" />
									<TextBlock Grid.Column="1" Text="{Binding CompletedDateTime}" Foreground="Green" Margin="4" />
									<ProgressBar Grid.Column="2" Minimum="0" Maximum="3" Value="{Binding Severity}" />
									<TextBlock Grid.Column="3" Text="{Binding Todo}" TextAlignment="Left" TextWrapping="Wrap" Height="25" Width="1500" Margin="4" />
								</Grid >
							</DataTemplate >
						</ListBox.ItemTemplate >
					</ListBox >

					
					
					<!-- The add, radio buttons, and input field -->
					<Grid Grid.Row="3" >
						<Grid.ColumnDefinitions >
							<ColumnDefinition Width="*" />
							<ColumnDefinition Width="100" />
						</Grid.ColumnDefinitions >
						<TextBox x:Name="txtT1NewTodo" Grid.Column="0" TextWrapping="WrapWithOverflow" KeyboardNavigation.TabIndex="0" />
						<StackPanel Grid.Column="1" >
							<ComboBox Name="cbSev" SelectionChanged="cbTSeverity_SelectionChanged" KeyboardNavigation.TabIndex="1" >
								<ComboBoxItem Content="Low" IsSelected="True" />
								<ComboBoxItem Content="Med" />
								<ComboBoxItem Content="High" />
							</ComboBox >
							<Button Content="Add" Click="btnTAdd_Click" KeyboardNavigation.TabIndex="2" IsDefault="True" />
						</StackPanel >
					</Grid >
				</Grid >
			</TabItem >

			<!-- VCS History tab -->
			<TabItem x:Name="History" Header="History" KeyboardNavigation.IsTabStop="False" >
				<Grid >
					<Grid.ColumnDefinitions >
						<ColumnDefinition Width="220" />
						<ColumnDefinition Width="*" />
					</Grid.ColumnDefinitions >
					<StackPanel Grid.Column="0" >
						<StackPanel Orientation="Horizontal" >
							<Button Content="New" Click="btnHNewHistory_Click" Width="90" />
							<Button Content="Delete" Click="btnHDeleteHistory_Click" Width="90" />
						</StackPanel >
						<ListBox Name="lbHHistory" SelectionChanged="lbHHistory_SelectionChanged" >
							<ListBox.ItemTemplate >
								<DataTemplate >
									<Grid Margin="0,2" >
										<Grid.ColumnDefinitions >
											<ColumnDefinition Width="25" />
											<ColumnDefinition Width="*" />
										</Grid.ColumnDefinitions >
										<Border Name="PlaceHolderBorder" Grid.Column="0" Margin="7"/>
										<Button Grid.Column="0" FontFamily="Marlett" FontSize="20" Content="1" Click="btnHCopyHistory_Click" />
										<TextBlock Grid.Column="1" Text="{Binding DateTimeAdded}" />
									</Grid >
								</DataTemplate >
							</ListBox.ItemTemplate >
						</ListBox >
					</StackPanel >
						
					<StackPanel Grid.Column="1" >
						<TextBox Name="tbHNotes" AcceptsReturn="True" TextWrapping="Wrap" Height="200" LostFocus="tbHNotes_LoseFocus" />
						<ListBox Name="lbHCompletedTodos" HorizontalContentAlignment="Stretch" KeyboardNavigation.IsTabStop="False" KeyboardNavigation.TabNavigation="None">
							<ListBox.ItemTemplate >
								<DataTemplate >
									<Grid Margin="0,2" >
										<Grid.ColumnDefinitions >
											<ColumnDefinition Width="25" />
											<ColumnDefinition Width="*" />
										</Grid.ColumnDefinitions >
										<Button Grid.Column="0" Name="btnHDeleteTodo" FontFamily="Marlett" FontSize="20" Content="r" Click="btnHDeleteTodo_Click" />
										<TextBlock Grid.Column="1" Text="{Binding Todo}" TextAlignment="Left" TextWrapping="Wrap" Width="1600" Margin="4" />
									</Grid >
								</DataTemplate >
							</ListBox.ItemTemplate >
						</ListBox >
					</StackPanel >
				</Grid >
			</TabItem >
		</TabControl >
    </DockPanel >
</Window >

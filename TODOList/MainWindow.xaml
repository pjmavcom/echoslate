<Window x:Class="TODOList.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
		xmlns:Converters="clr-namespace:TODOList"
        xmlns:local="clr-namespace:TODOList"
		mc:Ignorable="d"
        Title="{Binding WindowTitle}" Height="1080" Width="1920"
		FocusManager.FocusedElement="{Binding ElementName=txtT1NewTodo}" >
	<Window.Resources >
		<local:ProgressBarForegroundConverter x:Key="pbfg" />
	</Window.Resources >
	<DockPanel TextElement.FontSize="16" >
		<Menu DockPanel.Dock="Top" KeyboardNavigation.IsTabStop="False" >
			<MenuItem Name="mnuFile" Header="_File" KeyboardNavigation.IsTabStop="False" >
				<MenuItem Name="mnuNew" Header="New" Click="mnuNew_Click" /> 				
				<Separator />
				<MenuItem Name="mnuSave" Header="Save" Click="mnuSave_Click" KeyboardNavigation.IsTabStop="False" />
				<MenuItem Name="mnuSaveAs" Header="SaveAs" Click="mnuSaveAs_Click" KeyboardNavigation.IsTabStop="False" />
				<Separator />
				<MenuItem Name="mnuLoad" Header="Load" Click="mnuLoad_Click" KeyboardNavigation.IsTabStop="False" />
			</MenuItem >
			<MenuItem Name="mnuQuickSave" Header="Save" Click="mnuSave_Click" KeyboardNavigation.IsTabStop="False" />
			<MenuItem Header="Recent Saves: " KeyboardNavigation.IsTabStop="False" />
			<ComboBox Name="cbSaveFiles" SelectionChanged="cbSaveFiles_SelectionChanged" Focusable="False" IsTabStop="False" KeyboardNavigation.IsTabStop="False" KeyboardNavigation.TabNavigation="None" />
			<MenuItem Header="Recent Loads: " KeyboardNavigation.IsTabStop="False"  />
			<ComboBox Name="cbLoadFiles" SelectionChanged="cbLoadFiles_SelectionChanged" Focusable="False" IsTabStop="False" KeyboardNavigation.IsTabStop="False" KeyboardNavigation.TabNavigation="None" />
		</Menu >
			
		<TabControl >
			<!-- To do Tab -->
			<TabItem x:Name="TODO" Header="TODO" KeyboardNavigation.IsTabStop="False" >
				<Grid  >
					<Grid.RowDefinitions >
						<RowDefinition Height="30" />
						<RowDefinition Height="*" />
						<!-- <RowDefinition Height="*" /> -->
						<RowDefinition Height="100" />
					</Grid.RowDefinitions >
					
					<StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Right" >
						<ComboBox Name="cbHashtags" SelectionChanged="cbTHashtags_SelectionChanged" KeyboardNavigation.IsTabStop="False" />
						<Button Content="Rank" Click="btnTSort_Click" CommandParameter="rank" KeyboardNavigation.IsTabStop="False" />
						<Button Content="Severity" Click="btnTSort_Click" CommandParameter="sev" KeyboardNavigation.IsTabStop="False" />
						<Button Content="Date" Click="btnTSort_Click" CommandParameter="date" KeyboardNavigation.IsTabStop="False" />
						<Button Content="Hash" Click="btnTSort_Click" CommandParameter="hash" KeyboardNavigation.IsTabStop="False" />
						<Button Content="Active" Click="btnTSort_Click" CommandParameter="active" KeyboardNavigation.IsTabStop="False" />
					</StackPanel >
					 
					
					<!-- The list of incomplete todos -->
					<ListBox Name="lbTIncompleteItems" HorizontalContentAlignment="Stretch" Grid.Row="1" KeyboardNavigation.IsTabStop="False" KeyboardNavigation.TabNavigation="None" ScrollViewer.HorizontalScrollBarVisibility="Disabled" MouseDoubleClick="mnuTEdit_Click" >
						<ListBox.ContextMenu >
							<ContextMenu >
								<MenuItem Header="Edit" Click="mnuTEdit_Click" />
								<MenuItem Header="Delete" Click="mnuTDelete_Click" />
								<Separator />
								<MenuItem Header="Reset Timer" Click="mnuResetTimer_Click" />
							</ContextMenu >
						</ListBox.ContextMenu >
						<ListBox.ItemTemplate >
							<DataTemplate >
								<Grid ToolTip="{Binding TagsList}" Margin="0,2" >
									<Grid.ColumnDefinitions >
										<ColumnDefinition Width="25" /> <!-- Complete button -->
										<ColumnDefinition Width="200" /> <!-- HashTags -->
										<ColumnDefinition Width="*" /> <!-- DateTime -->
										
										<ColumnDefinition Width="100" /> <!-- Severity -->
									
										<ColumnDefinition Width="40" /> <!-- RANK -->
										<ColumnDefinition Width="25" />
										<ColumnDefinition Width="25" />

										<ColumnDefinition Width="60" /> <!-- TIME TAKEN -->
										<ColumnDefinition Width="40" />
										
										<ColumnDefinition Width="25" />
										<ColumnDefinition Width="25" />

										<ColumnDefinition Width="*" /> <!-- Todo -->
									</Grid.ColumnDefinitions >
									<Button Grid.Column="0" FontFamily="Marlett" FontSize="20" Content="a" Click="btnTComplete_Click" Height="30" VerticalAlignment="Top" />
									<ComboBox Grid.Column="1" ItemsSource="{Binding Tags}" SelectedIndex="0" Height="30" VerticalAlignment="Top" />
									<TextBlock Grid.Column="2" Text="{Binding StartDateTime}" Foreground="Red" Margin="4" Height="30" VerticalAlignment="Top" />
									
									<ProgressBar Grid.Column="3" Minimum="0" Maximum="3" Value="{Binding Severity}" Foreground="{Binding RelativeSource={RelativeSource Mode=Self}, Path=Value, Converter={StaticResource pbfg}}" Height="30" VerticalAlignment="Top" />
									
									<Label Grid.Column="4" Content="{Binding Rank}" Margin="4" Height="30" VerticalAlignment="Top" />
									<Button Grid.Column="5" FontFamily="Marlett" FontSize="20" Content="6" Click="btnRank_Click" CommandParameter="down" Height="30" VerticalAlignment="Top" />
									<Button Grid.Column="6" FontFamily="Marlett" FontSize="20" Content="5" Click="btnRank_Click" CommandParameter="up" Height="30" VerticalAlignment="Top" />
									
									<Label Grid.Column="7" Content="{Binding TimeTakenInMinutes, UpdateSourceTrigger=PropertyChanged}"  ContentStringFormat="{}{0:000.## :}" HorizontalContentAlignment="Right" Height="30" VerticalAlignment="Top" >
										<Label.Style >
											<Style >
												<Style.Triggers >
													<DataTrigger Binding="{Binding IsTimerOn}" Value="True" >
														<Setter Property="Label.Background" Value="Lime" />
													</DataTrigger >
													<DataTrigger Binding="{Binding IsTimerOn}" Value="False" >
														<Setter Property="Label.Background" Value="Maroon" />
													</DataTrigger >
												</Style.Triggers >
											</Style >
										</Label.Style >
									</Label >
									<Label Grid.Column="8" Content="{Binding TimeTaken.Second}" ContentStringFormat="{}{0:00.##}" HorizontalContentAlignment="Left" Height="30" VerticalAlignment="Top" >
										<Label.Style >
											<Style >
												<Style.Triggers >
													<DataTrigger Binding="{Binding IsTimerOn}" Value="True" >
														<Setter Property="Label.Background" Value="Lime" />
													</DataTrigger >
													<DataTrigger Binding="{Binding IsTimerOn}" Value="False" >
														<Setter Property="Label.Background" Value="Maroon" />
													</DataTrigger >
												</Style.Triggers >
											</Style >
										</Label.Style >
									</Label >
									<Button Grid.Column="9" FontFamily="Marlett" FontSize="20" Content="4" Click="btnTimeTaken_Click" CommandParameter="start" Height="30" VerticalAlignment="Top" />
									<Button Grid.Column="10" FontFamily="Marlett" FontSize="20" Content="g" Click="btnTimeTaken_Click" CommandParameter="stop" Height="30" VerticalAlignment="Top" />
									
									
									<TextBlock Grid.Column="11" Text="{Binding Todo}" TextAlignment="Left" TextWrapping="WrapWithOverflow" Margin="4" />
								</Grid >
							</DataTemplate >
						</ListBox.ItemTemplate >
					</ListBox >
					
					<!-- The add, radio buttons, and input field -->
					<Grid Grid.Row="3" >
						<Grid.ColumnDefinitions >
							<ColumnDefinition Width="*" />
							<ColumnDefinition Width="100" />
						</Grid.ColumnDefinitions >
						<TextBox x:Name="txtT1NewTodo" Grid.Column="0" TextWrapping="WrapWithOverflow" KeyboardNavigation.TabIndex="0" />
						<StackPanel Grid.Column="1" >
							<ComboBox Name="cbSev" SelectionChanged="cbTSeverity_SelectionChanged" KeyboardNavigation.TabIndex="1" >
								<ComboBoxItem Content="Low" IsSelected="True" />
								<ComboBoxItem Content="Med" />
								<ComboBoxItem Content="High" />
							</ComboBox >
							<Button Content="Add" Click="btnTAdd_Click" KeyboardNavigation.TabIndex="2" IsDefault="True" />
						</StackPanel >
					</Grid >
				</Grid >
			</TabItem >

			<!-- VCS History tab -->
			<TabItem x:Name="History" Header="History" KeyboardNavigation.IsTabStop="False" >
				<Grid >
					<Grid.ColumnDefinitions >
						<ColumnDefinition Width="300" />
						<ColumnDefinition />
					</Grid.ColumnDefinitions >
					<Grid Grid.Column="0" >
						<Grid.RowDefinitions >
							<RowDefinition Height="35" />
							<RowDefinition />
						</Grid.RowDefinitions >
						<StackPanel Grid.Row="0" Orientation="Horizontal" >
							<Button Content="New" Click="btnHNewHistory_Click" Width="90" />
							<Button Content="Delete" Click="btnHDeleteHistory_Click" Width="90" />
						</StackPanel >
						<ListBox Grid.Row="1" Name="lbHHistory" SelectionChanged="lbHHistory_SelectionChanged" ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Auto" >
							<ListBox.ItemTemplate >
								<DataTemplate >
									<Grid Margin="0,2" >
										<Grid.ColumnDefinitions >
											<ColumnDefinition Width="25" />
											<ColumnDefinition />
										</Grid.ColumnDefinitions >
										<Border Name="PlaceHolderBorder" Grid.Column="0" Margin="7"/>
										<Button Grid.Column="0" FontFamily="Marlett" FontSize="20" Content="1" Click="btnHCopyHistory_Click" />
										<TextBlock Grid.Column="1" Text="{Binding Notes}" TextWrapping="Wrap" />
									</Grid >
								</DataTemplate >
							</ListBox.ItemTemplate >
						</ListBox >
					</Grid >
						
					<Grid Grid.Column="1" >
						<Grid.RowDefinitions >
							<RowDefinition Height="200" />
							<RowDefinition />
						</Grid.RowDefinitions >
						<TextBox Grid.Row="0" Name="tbHNotes" AcceptsReturn="True" TextWrapping="Wrap" LostFocus="tbHNotes_LoseFocus" ScrollViewer.VerticalScrollBarVisibility="Auto" />
						<ListBox Grid.Row="1" Name="lbHCompletedTodos" HorizontalContentAlignment="Stretch" KeyboardNavigation.IsTabStop="False" KeyboardNavigation.TabNavigation="None" ScrollViewer.HorizontalScrollBarVisibility="Disabled" MouseDoubleClick="mnuHEdit_Click" >
							<ListBox.ItemTemplate >
								<DataTemplate >
									<Grid Margin="0,2" >
										<Grid.ColumnDefinitions >
											<ColumnDefinition Width="25" />
											<ColumnDefinition />
										</Grid.ColumnDefinitions >
										<Button Grid.Column="0" Name="btnHDeleteTodo" FontFamily="Marlett" FontSize="20" Content="r" Click="btnHDeleteTodo_Click" />
										<TextBlock Grid.Column="1" Text="{Binding Todo}" TextAlignment="Left" TextWrapping="Wrap" Margin="4" />
									</Grid >
								</DataTemplate >
							</ListBox.ItemTemplate >
						</ListBox >
					</Grid >
				</Grid >
			</TabItem >
		</TabControl >
    </DockPanel >
</Window >



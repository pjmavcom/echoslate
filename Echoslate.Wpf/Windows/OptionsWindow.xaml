<UserControl
    x:Class="Echoslate.Wpf.Windows.OptionsWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:behaviors="clr-namespace:Echoslate.Wpf.Behaviors"
    Width="700"
    MinWidth="380"
    Background="{StaticResource AppDarkBackground}">
    <!--  Style="{StaticResource {x:Type Window}}">  -->

    <Grid
        Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition
                Height="Auto" />
            <RowDefinition
                Height="*" />
            <RowDefinition
                Height="Auto" />
        </Grid.RowDefinitions>

        <!--  Main Content  -->
        <StackPanel
            Grid.Row="0">

            <!--  General Settings  -->
            <GroupBox
                Margin="7"
                Background="{StaticResource ControlBackground}"
                FontSize="20"
                FontWeight="SemiBold"
                Foreground="{StaticResource Foreground}"
                Header="General Settings"
                Style="{StaticResource ThinGroupBoxStyle}">
                <StackPanel
                    Margin="10,15">
                    <StackPanel
                        Orientation="Horizontal">
                        <CheckBox
                            Margin="0,0,0,12"
                            HorizontalAlignment="Left"
                            FontSize="15"
                            Foreground="{StaticResource Foreground}"
                            IsChecked="{Binding AutoSave}"
                            Style="{StaticResource ToggleSwitchStyle}" />
                        <Label
                            Content="AutoSave"
                            FontSize="14"
                            Foreground="{StaticResource Foreground}" />
                    </StackPanel>
                    <StackPanel
                        Orientation="Horizontal">
                        <CheckBox
                            Margin="0,0,0,12"
                            HorizontalAlignment="Left"
                            FontSize="15"
                            Foreground="{StaticResource Foreground}"
                            IsChecked="{Binding AutoBackup}"
                            Style="{StaticResource ToggleSwitchStyle}" />
                        <Label
                            Content="AutoBackup"
                            FontSize="14"
                            Foreground="{StaticResource Foreground}" />
                    </StackPanel>
                    <StackPanel
                        Orientation="Horizontal">
                        <CheckBox
                            HorizontalAlignment="Left"
                            FontSize="15"
                            Foreground="{StaticResource Foreground}"
                            IsChecked="{Binding ShowWelcomeWindow}"
                            Style="{StaticResource ToggleSwitchStyle}" />
                        <Label
                            Content="Enable Welcome Window"
                            FontSize="14"
                            Foreground="{StaticResource Foreground}" />
                    </StackPanel>
                </StackPanel>
            </GroupBox>

            <!--  Backup Interval  -->
            <GroupBox
                Margin="7"
                Background="{StaticResource ControlBackground}"
                FontSize="20"
                FontWeight="SemiBold"
                Foreground="{StaticResource Foreground}"
                Header="Backup Interval"
                Style="{StaticResource ThinGroupBoxStyle}">
                <StackPanel
                    Margin="10,15"
                    VerticalAlignment="Center"
                    Orientation="Horizontal">
                    <TextBlock
                        Margin="0,0,12,0"
                        VerticalAlignment="Center"
                        FontSize="14"
                        Text="Create backup every" />
                    <Border
                        BorderBrush="#494949"
                        BorderThickness="1">
                        <TextBlock
                            Width="80"
                            behaviors:MouseWheelNumericBehavior.Enabled="True"
                            behaviors:MouseWheelNumericBehavior.Minimum="5"
                            behaviors:MouseWheelNumericBehavior.TargetProperty="BackupTime"
                            FontSize="18"
                            FontWeight="SemiBold"
                            Text="{Binding BackupTime}"
                            TextAlignment="Center"
                            ToolTip="Mouse wheel: ±1 | Shift+wheel: ±5" />
                    </Border>
                    <TextBlock
                        Margin="12,0,0,0"
                        VerticalAlignment="Center"
                        FontSize="14"
                        Text="minutes" />
                </StackPanel>
            </GroupBox>

            <!--  Git Settings  -->
            <GroupBox
                Margin="7"
                Background="{StaticResource ControlBackground}"
                FontSize="20"
                FontWeight="SemiBold"
                Foreground="{StaticResource Foreground}"
                Header="Git Integration"
                Style="{StaticResource ThinGroupBoxStyle}">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition
                            Width="Auto" />
                        <ColumnDefinition
                            Width="*" />
                        <ColumnDefinition
                            Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    <TextBlock
                        Margin="12,0,12,0"
                        VerticalAlignment="Center"
                        FontSize="14"
                        Text="Root Path:" />
                    <TextBox
                        Grid.Column="1"
                        Height="35"
                        Margin="20,0,0,0"
                        AcceptsReturn="True"
                        FontSize="15"
                        Foreground="{StaticResource Foreground}"
                        IsReadOnly="True"
                        Text="{Binding GitRepoPath}" />
                    <Button
                        Grid.Column="2"
                        Width="90"
                        Height="35"
                        Margin="0,3,12,3"
                        VerticalAlignment="Top"
                        Command="{Binding ChooseGitRepoPathCommand}"
                        Content="Browse..."
                        FontSize="14" />
                    <TextBlock
                        Grid.Row="1"
                        Grid.ColumnSpan="3"
                        HorizontalAlignment="Center"
                        Margin="0,10,0,0"
                        Foreground="{Binding GitStatusColor}"
                        Text="{Binding GitStatusMessage}" />
                </Grid>
            </GroupBox>
        </StackPanel>


        <!--  Buttons  -->
        <StackPanel
            Grid.Row="2"
            Margin="0,20,0,0"
            HorizontalAlignment="Right"
            Orientation="Horizontal">
            <Button
                Width="140"
                Margin="0,0,15,0"
                Background="#FF0066CC"
                BorderBrush="#FF0077EE"
                Click="Ok_OnClick"
                Content="OK"
                FontSize="16"
                Foreground="{StaticResource Foreground}"
                IsDefault="True" />
            <Button
                Width="140"
                Background="#F44336"
                Click="Cancel_OnClick"
                Content="Cancel"
                FontSize="16"
                Foreground="White"
                IsCancel="True" />
        </StackPanel>
    </Grid>
</UserControl>